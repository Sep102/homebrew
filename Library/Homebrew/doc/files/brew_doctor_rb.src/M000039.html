<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html>
<head>
  <title>check_for_config_scripts (brew_doctor.rb)</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
  <link rel="stylesheet" href="../.././rdoc-style.css" type="text/css" media="screen" />
</head>
<body class="standalone-code">
  <pre><span class="ruby-comment cmt"># File brew_doctor.rb, line 331</span>
<span class="ruby-keyword kw">def</span> <span class="ruby-identifier">check_for_config_scripts</span>
  <span class="ruby-identifier">real_cellar</span> = <span class="ruby-constant">HOMEBREW_CELLAR</span>.<span class="ruby-identifier">realpath</span>

  <span class="ruby-identifier">config_scripts</span> = []

  <span class="ruby-identifier">paths</span> = <span class="ruby-constant">ENV</span>[<span class="ruby-value str">'PATH'</span>].<span class="ruby-identifier">split</span>(<span class="ruby-value str">':'</span>).<span class="ruby-identifier">collect</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">p</span><span class="ruby-operator">|</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">expand_path</span> <span class="ruby-identifier">p</span>}
  <span class="ruby-identifier">paths</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">p</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword kw">next</span> <span class="ruby-keyword kw">if</span> [<span class="ruby-value str">'/usr/bin'</span>, <span class="ruby-value str">'/usr/sbin'</span>, <span class="ruby-value str">'/usr/X11/bin'</span>, <span class="ruby-node">&quot;#{HOMEBREW_PREFIX}/bin&quot;</span>, <span class="ruby-node">&quot;#{HOMEBREW_PREFIX}/sbin&quot;</span>].<span class="ruby-identifier">include?</span> <span class="ruby-identifier">p</span>
    <span class="ruby-keyword kw">next</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">p</span> <span class="ruby-operator">=~</span> <span class="ruby-node">%r[^(#{real_cellar.to_s}|#{HOMEBREW_CELLAR.to_s})]</span>

    <span class="ruby-identifier">configs</span> = <span class="ruby-constant">Dir</span>[<span class="ruby-node">&quot;#{p}/*-config&quot;</span>]
    <span class="ruby-comment cmt"># puts &quot;#{p}\n    #{configs * ' '}&quot; unless configs.empty?</span>
    <span class="ruby-identifier">config_scripts</span> <span class="ruby-operator">&lt;&lt;</span> [<span class="ruby-identifier">p</span>, <span class="ruby-identifier">configs</span>.<span class="ruby-identifier">collect</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">p</span><span class="ruby-operator">|</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">basename</span>(<span class="ruby-identifier">p</span>)}] <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">configs</span>.<span class="ruby-identifier">empty?</span>
  <span class="ruby-keyword kw">end</span>

  <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">config_scripts</span>.<span class="ruby-identifier">empty?</span>
    <span class="ruby-identifier">puts</span> <span class="ruby-value str">&quot;Some \&quot;config\&quot; scripts were found in your path, but not in system or Homebrew folders.\n\n`./configure` scripts often look for *-config scripts to determine if software packages\nare installed, and what additional flags to use when compiling and linking.\n\nHaving additional scripts in your path can confuse software installed via Homebrew if\nthe config script overrides a system or Homebrew provided script of the same name.\n\n&quot;</span>.<span class="ruby-identifier">undent</span>

    <span class="ruby-identifier">config_scripts</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">pair</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">puts</span> <span class="ruby-identifier">pair</span>[<span class="ruby-value">0</span>]
      <span class="ruby-identifier">puts</span> <span class="ruby-value str">&quot;    &quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">pair</span>[<span class="ruby-value">1</span>] <span class="ruby-operator">*</span> <span class="ruby-value str">&quot; &quot;</span>
    <span class="ruby-keyword kw">end</span>
    <span class="ruby-identifier">puts</span>
  <span class="ruby-keyword kw">end</span>
<span class="ruby-keyword kw">end</span></pre>
</body>
</html>